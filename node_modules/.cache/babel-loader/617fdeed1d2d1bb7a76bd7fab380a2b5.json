{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue","mtime":1683620028565},{"path":"C:\\Users\\tmdgu\\vue_front\\babel.config.js","mtime":1683620026767},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1682425602675},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1682425630991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3RtZGd1L3Z1ZV9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL3RtZGd1L3Z1ZV9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQkJhZGdlLCBCQnV0dG9uLCBCVGFibGUgfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEpvdXJuYWxkZXRhaWxGaWxlZCwgam91cm5hbEZpbGVkLCBzbGlwRmlsZWQgfSBmcm9tICcuLi9maWVsZHMnOwppbXBvcnQgSW5wdXRGb3JtIGZyb20gJy4uL1NsaXAvSW5wdXRGb3JtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCQnV0dG9uOiBCQnV0dG9uLAogICAgQlRhYmxlOiBCVGFibGUsCiAgICBCQmFkZ2U6IEJCYWRnZSwKICAgIElucHV0Rm9ybTogSW5wdXRGb3JtCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyogIO2VhOuTnA0KICAgICAgICovCiAgICAgIHNsaXBGaWxlZDogc2xpcEZpbGVkLAogICAgICBqb3VybmFsRmlsZWQ6IGpvdXJuYWxGaWxlZCwKICAgICAgSm91cm5hbGRldGFpbEZpbGVkOiBKb3VybmFsZGV0YWlsRmlsZWQsCiAgICAgIHNlbGV0ZWRTbGlwOiBbXSwKICAgICAgam91cm5hbERldGFpbExpc3Q6IFtdLAogICAgICAvLyDsiJjsoJXrtoTqsJwKICAgICAgZWRpdGFibGVKb3VybmFsOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCdhY2NvdW50L2FjY291bnQnLCBbJ0dFVF9TRUxFVEVEX1NMSVAnLCAnR0VUX1NFTEVURURfSk9VUk5BTGxJU1QnXSkpLAogIGdldHRlcnM6IHt9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygnYWNjb3VudC9hY2NvdW50JywgWydFRElUX1NMSVAnXSkpLCB7fSwgewogICAgLyoqDQogICAgICogIOu2hOqwnOyEoO2DneyLnCDtlbTri7nrtoTqsJzsg4HshLgg67O87IiY7J6I64qUIOq4sOuKpQ0KICAgICAqLwogICAgb25Sb3dTZWxlY3RlZDogZnVuY3Rpb24gb25Sb3dTZWxlY3RlZChzZWxlY3RlZEpvdXJuYWwpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nCiAgICAgIHRoaXMuZWRpdGFibGVKb3VybmFsID0gc2VsZWN0ZWRKb3VybmFsWzBdOwoKICAgICAgaWYgKHNlbGVjdGVkSm91cm5hbFswXS5qb3VybmFsRGV0YWlsTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBWdWUuJHRvYXN0LmluZm8oJ+2VtOuLueu2hOqwnOydmCDrtoTqsJzsg4HshLjripQg7KG07J6s7ZWY7KeA7JWK7Iq164uI64ukJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuam91cm5hbERldGFpbExpc3QgPSBzZWxlY3RlZEpvdXJuYWxbMF0uam91cm5hbERldGFpbExpc3Q7CiAgICB9LAoKICAgIC8qKg0KICAgICAq7KCE7ZGc7IiY7KCVIOuyhO2KvCDtgbTrpq3si5wg7ZWo7IiY7Iuk7ZaJDQogICAgICovCiAgICBlZGl0U2xpcDogZnVuY3Rpb24gZWRpdFNsaXAoKSB7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2J2OjpzaG93Ojptb2RhbCcsICdvcGVuRWRpdFNsaXBNb2RhbCcpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDrtoTqsJzsiJjsoJUNCiAgICAgKi8KICAgIGVkaXRKb3VyYW5sOiBmdW5jdGlvbiBlZGl0Sm91cmFubCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0YWJsZUpvdXJuYWwpOwogICAgICB0aGlzLiRyb290LiRlbWl0KCdidjo6c2hvdzo6bW9kYWwnLCAnb3BlbkVkaXRKb3VuYWxNb2RhbCcpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDrtoTqsJzsg4HshLjsiJjsoJUNCiAgICAgKi8KICAgIGVkaXRKb3VyYW5EZXRhaWw6IGZ1bmN0aW9uIGVkaXRKb3VyYW5EZXRhaWwoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRhYmxlSm91cm5hbC5qb3VybmFsRGV0YWlsTGlzdC5sZW5ndGggIT09IDApIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCdidjo6c2hvdzo6bW9kYWwnLCAnb3BlbkVkaXRKb3VuYWxEZXRhaWxNb2RhbCcsICcjZm9jdXNUaGlzT25DbG9zZScpOwogICAgICB9IGVsc2UgewogICAgICAgIFZ1ZS4kdG9hc3QuaW5mbygn7ZW064u567aE6rCc7J2YIOu2hOqwnOyDgeyEuOuKlCDsobTsnqztlZjsp4DslYrsirXri4jri6QnKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDsiJjsoJUg7ZuEIOyggOyepQ0KICAgICAqLwogICAgc2F2ZUVkaXRlZEZvcm06IGZ1bmN0aW9uIHNhdmVFZGl0ZWRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZWRpdGVkU2xpcCwgdXBkYXRlU2xpcE5vOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGVkaXRlZFNsaXAgPSBfdGhpcy5HRVRfU0VMRVRFRF9TTElQWzBdOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuRURJVF9TTElQKGVkaXRlZFNsaXApOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1cGRhdGVTbGlwTm8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgYWxlcnQoIiIuY29uY2F0KHVwZGF0ZVNsaXBObywgIiBcdUM4MDRcdUQ0NUNcdUM3NTggXHVCQUE4XHVCNEUwIFx1QzBBQ1x1RDU2RFx1Qzc3NCBcdUM1QzVcdUIzNzBcdUM3NzRcdUQyQjhcdUI0MThcdUM1QzhcdUMyQjVcdUIyQzhcdUIyRTQiKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AAEA;AACAA;AACAC,oBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC;AAJA,GADA;AASAC,MATA,kBASA;AACA;AACA;AACA;AACAC,0BAHA;AAIAC,gCAJA;AAKAC,4CALA;AAMAC,qBANA;AAOAC,2BAPA;AASA;AACAC;AAVA;AAaA,GAvBA;AAwBAC,8BACAC,8EADA,CAxBA;AA2BAC,aA3BA;AA4BAC,2CAEAC,4CAFA;AAGA;AACA;AACA;AACAC,iBANA,yBAMAC,eANA,EAMA;AACA;AACA;;AACA;AACAC;AACA;;AACA;AACA,KAbA;;AAcA;AACA;AACA;AACAC,YAjBA,sBAiBA;AACA;AACA,KAnBA;;AAoBA;AACA;AACA;AACAC,eAvBA,yBAuBA;AACAC;AACA;AACA,KA1BA;;AA2BA;AACA;AACA;AACAC,oBA9BA,8BA8BA;AACA;AACA;AACA,OAFA,MAEA;AACAJ;AACA;AACA,KApCA;;AAqCA;AACA;AACA;AACAK,kBAxCA,4BAwCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,0BADA,GACA,yBADA;AAAA;AAAA,uBAEA,2BAFA;;AAAA;AAEAC,4BAFA;AAGAC;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AA5CA;AA5BA","names":["components","BButton","BTable","BBadge","InputForm","data","slipFiled","journalFiled","JournaldetailFiled","seletedSlip","journalDetailList","editableJournal","computed","mapGetters","getters","methods","mapActions","onRowSelected","selectedJournal","Vue","editSlip","editJouranl","console","editJouranDetail","saveEditedForm","editedSlip","updateSlipNo","alert"],"sourceRoot":"src/components/account/account/Journal","sources":["JournalForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <h1>전표</h1>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"saveEditedForm\"\r\n    >\r\n      저장\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranDetail\"\r\n    >\r\n      분개상세수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranl\"\r\n    >\r\n      분개수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editSlip\"\r\n    >\r\n      전표수정\r\n    </b-button>\r\n    <b-table\r\n      :items=\"GET_SELETED_SLIP\"\r\n      :fields=\"slipFiled\"\r\n    />\r\n    <h1>분개 </h1>\r\n\r\n    <b-table\r\n      :items=\"GET_SELETED_JOURNALlIST\"\r\n      :fields=\"journalFiled\"\r\n      striped\r\n      responsive\r\n      select-mode=\"single\"\r\n      selectable\r\n      @row-selected=\"onRowSelected\"\r\n    >\r\n\r\n      <template #cell(status)=\"data\">\r\n        <b-badge :variant=\"status[1][data.value]\">\r\n          {{ status[0][data.value] }}\r\n        </b-badge>\r\n      </template>\r\n    </b-table>\r\n    <h1>분개상세</h1>\r\n    <b-table\r\n      :items=\"journalDetailList\"\r\n      :fields=\"JournaldetailFiled\"\r\n    />\r\n\r\n    <!-- 모달은 id 이용-->\r\n    <!-- 전표추가 모달-->\r\n    <!--하나의 inputForm 태그 사용 < 조건을 props로 내려줌>-->\r\n    <b-modal\r\n      id=\"openEditSlipModal\"\r\n      title=\"전표수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputSlipForm\"\r\n          :edit-slip=\"GET_SELETED_SLIP\"\r\n          modal-status=\"editSlip\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!-- 분개추가 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalModal\"\r\n      title=\"분개수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalForm\"\r\n          :edit-journal=\"editableJournal\"\r\n          modal-status=\"editJournal\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!--분개상세 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalDetailModal\"\r\n      title=\"분개상세수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalDetailForm\"\r\n          modal-status=\"addJounalDetail\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {BBadge, BButton, BTable,} from 'bootstrap-vue'\r\nimport {mapActions, mapGetters} from 'vuex'\r\nimport Vue from 'vue'\r\nimport {JournaldetailFiled, journalFiled, slipFiled} from '../fields'\r\nimport InputForm from '../Slip/InputForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BTable,\r\n    BBadge,\r\n    InputForm,\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      /*  필드\r\n       */\r\n      slipFiled,\r\n      journalFiled,\r\n      JournaldetailFiled,\r\n      seletedSlip: [],\r\n      journalDetailList: [],\r\n\r\n      // 수정분개\r\n      editableJournal: {},\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('account/account', ['GET_SELETED_SLIP', 'GET_SELETED_JOURNALlIST']),\r\n  },\r\n  getters: {},\r\n  methods: {\r\n\r\n    ...mapActions('account/account', ['EDIT_SLIP']),\r\n    /**\r\n     *  분개선택시 해당분개상세 볼수있는 기능\r\n     */\r\n    onRowSelected(selectedJournal) {\r\n      // eslint-disable-next-line prefer-destructuring\r\n      this.editableJournal = selectedJournal[0]\r\n      if (selectedJournal[0].journalDetailList.length === 0) {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n      this.journalDetailList = selectedJournal[0].journalDetailList\r\n    },\r\n    /**\r\n     *전표수정 버튼 클릭시 함수실행\r\n     */\r\n    editSlip() {\r\n      this.$root.$emit('bv::show::modal', 'openEditSlipModal')\r\n    },\r\n    /**\r\n     * 분개수정\r\n     */\r\n    editJouranl() {\r\n      console.log(this.editableJournal)\r\n      this.$root.$emit('bv::show::modal', 'openEditJounalModal')\r\n    },\r\n    /**\r\n     * 분개상세수정\r\n     */\r\n    editJouranDetail() {\r\n      if (this.editableJournal.journalDetailList.length !== 0) {\r\n        this.$root.$emit('bv::show::modal', 'openEditJounalDetailModal', '#focusThisOnClose')\r\n      } else {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n    },\r\n    /**\r\n     * 수정 후 저장\r\n     */\r\n    async saveEditedForm() {\r\n      const editedSlip = this.GET_SELETED_SLIP[0]\r\n      const updateSlipNo = await this.EDIT_SLIP(editedSlip)\r\n      alert(`${updateSlipNo} 전표의 모든 사항이 업데이트되었습니다`)\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\nh1 {\r\n  font-size: 45px;\r\n  font-weight: 600;\r\n  color: #456155;\r\n  padding: 30px 5px 15px;\r\n}\r\n\r\n.bt {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}