{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\@core\\layouts\\components\\app-navbar\\components\\CartDropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\@core\\layouts\\components\\app-navbar\\components\\CartDropdown.vue","mtime":1683620026866},{"path":"C:\\Users\\tmdgu\\vue_front\\babel.config.js","mtime":1683620026767},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1683631548959},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1683631584611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQk5hdkl0ZW1Ecm9wZG93biwgQkJhZGdlLCBCTWVkaWEsIEJMaW5rLCBCSW1nLCBCRm9ybVNwaW5idXR0b24sIEJCdXR0b24gfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IFZ1ZVBlcmZlY3RTY3JvbGxiYXIgZnJvbSAndnVlLXBlcmZlY3Qtc2Nyb2xsYmFyJzsKaW1wb3J0IFJpcHBsZSBmcm9tICd2dWUtcmlwcGxlLWRpcmVjdGl2ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCTmF2SXRlbURyb3Bkb3duOiBCTmF2SXRlbURyb3Bkb3duLAogICAgQkJhZGdlOiBCQmFkZ2UsCiAgICBCTWVkaWE6IEJNZWRpYSwKICAgIEJMaW5rOiBCTGluaywKICAgIEJJbWc6IEJJbWcsCiAgICBCRm9ybVNwaW5idXR0b246IEJGb3JtU3BpbmJ1dHRvbiwKICAgIFZ1ZVBlcmZlY3RTY3JvbGxiYXI6IFZ1ZVBlcmZlY3RTY3JvbGxiYXIsCiAgICBCQnV0dG9uOiBCQnV0dG9uCiAgfSwKICBkaXJlY3RpdmVzOiB7CiAgICBSaXBwbGU6IFJpcHBsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbXSwKICAgICAgcGVyZmVjdFNjcm9sbGJhclNldHRpbmdzOiB7CiAgICAgICAgbWF4U2Nyb2xsYmFyTGVuZ3RoOiA2MCwKICAgICAgICB3aGVlbFByb3BhZ2F0aW9uOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsQW1vdW50OiBmdW5jdGlvbiB0b3RhbEFtb3VudCgpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgdG90YWwgKz0gaS5wcmljZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b3RhbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXBwLWVjb21tZXJjZS9mZXRjaENhcnRQcm9kdWN0cycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuaXRlbXMgPSByZXNwb25zZS5kYXRhLnByb2R1Y3RzOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVJdGVtRnJvbUNhcnQ6IGZ1bmN0aW9uIHJlbW92ZUl0ZW1Gcm9tQ2FydChwcm9kdWN0SWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYXBwLWVjb21tZXJjZS9yZW1vdmVQcm9kdWN0RnJvbUNhcnQnLCB7CiAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0SWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGl0ZW1JbmRleCA9IF90aGlzMi5pdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwLmlkID09PSBwcm9kdWN0SWQ7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi5pdGVtcy5zcGxpY2UoaXRlbUluZGV4LCAxKTsgLy8gVXBkYXRlIGNvdW50IGluIGNhcnQgaXRlbXMgc3RhdGUKCgogICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCdhcHAtZWNvbW1lcmNlL1VQREFURV9DQVJUX0lURU1TX0NPVU5UJywgX3RoaXMyLml0ZW1zLmxlbmd0aCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA,SACAA,gBADA,EACAC,MADA,EACAC,MADA,EACAC,KADA,EACAC,IADA,EACAC,eADA,EACAC,OADA,QAEA,eAFA;AAGA;AACA;AAEA;AACAC;AACAP,sCADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,gBAJA;AAKAC,cALA;AAMAC,oCANA;AAOAG,4CAPA;AAQAF;AARA,GADA;AAWAG;AACAC;AADA,GAXA;AAcAC,MAdA,kBAcA;AACA;AACAC,eADA;AAEAC;AACAC,8BADA;AAEAC;AAFA;AAFA;AAOA,GAtBA;AAuBAC;AACAC,eADA,yBACA;AACA;AACA;AAAAC;AAAA;AACA;AACA;AALA,GAvBA;AA8BAC;AACAC,cADA,wBACA;AAAA;;AACA,8DACAC,IADA,CACA;AACA;AACA,OAHA;AAIA,KANA;AAOAC,sBAPA,8BAOAC,SAPA,EAOA;AAAA;;AACA;AAAAA;AAAA,SACAF,IADA,CACA;AACA;AAAA;AAAA;;AACA,0CAFA,CAIA;;;AACA;AACA,OAPA;AAQA;AAhBA;AA9BA","names":["BNavItemDropdown","BBadge","BMedia","BLink","BImg","BFormSpinbutton","BButton","components","VuePerfectScrollbar","directives","Ripple","data","items","perfectScrollbarSettings","maxScrollbarLength","wheelPropagation","computed","totalAmount","total","methods","fetchItems","then","removeItemFromCart","productId"],"sourceRoot":"src/@core/layouts/components/app-navbar/components","sources":["CartDropdown.vue"],"sourcesContent":["<template>\r\n  <b-nav-item-dropdown\r\n    class=\"dropdown-cart mr-25\"\r\n    menu-class=\"dropdown-menu-media\"\r\n    right\r\n    @show=\"fetchItems\"\r\n  >\r\n    <template #button-content>\r\n      <feather-icon\r\n        :badge=\"$store.state['app-ecommerce'].cartItemsCount\"\r\n        class=\"text-body\"\r\n        icon=\"ShoppingCartIcon\"\r\n        size=\"21\"\r\n      />\r\n    </template>\r\n\r\n    <!-- Header -->\r\n    <li class=\"dropdown-menu-header\">\r\n      <div class=\"dropdown-header d-flex\">\r\n        <h4 class=\"notification-title mb-0 mr-auto\">\r\n          My Cart\r\n        </h4>\r\n        <b-badge\r\n          pill\r\n          variant=\"light-primary\"\r\n        >\r\n          {{ $store.state['app-ecommerce'].cartItemsCount }} Items\r\n        </b-badge>\r\n      </div>\r\n    </li>\r\n\r\n    <!-- Cart Items -->\r\n    <vue-perfect-scrollbar\r\n      v-if=\"items.length\"\r\n      :settings=\"perfectScrollbarSettings\"\r\n      class=\"scrollable-container media-list scroll-area\"\r\n      tagname=\"li\"\r\n    >\r\n      <b-media\r\n        v-for=\"item in items\"\r\n        :key=\"item.name\"\r\n      >\r\n        <template #aside>\r\n          <b-img\r\n            :src=\"item.image\"\r\n            :alt=\"item.name\"\r\n            rounded\r\n            width=\"62px\"\r\n          />\r\n        </template>\r\n        <feather-icon\r\n          icon=\"XIcon\"\r\n          class=\"cart-item-remove cursor-pointer\"\r\n          @click.stop=\"removeItemFromCart(item.id)\"\r\n        />\r\n        <div class=\"media-heading\">\r\n          <h6 class=\"cart-item-title\">\r\n            <b-link class=\"text-body\">\r\n              {{ item.name }}\r\n            </b-link>\r\n          </h6>\r\n          <small class=\"cart-item-by\">By {{ item.brand }}</small>\r\n        </div>\r\n\r\n        <div class=\"cart-item-qty ml-1\">\r\n          <b-form-spinbutton\r\n            v-model=\"item.qty\"\r\n            min=\"1\"\r\n            size=\"sm\"\r\n          />\r\n        </div>\r\n\r\n        <h5 class=\"cart-item-price\">\r\n          ${{ item.price }}\r\n        </h5>\r\n      </b-media>\r\n    </vue-perfect-scrollbar>\r\n\r\n    <!-- Cart Footer -->\r\n    <li\r\n      v-if=\"items.length\"\r\n      class=\"dropdown-menu-footer\"\r\n    >\r\n      <div class=\"d-flex justify-content-between mb-1\">\r\n        <h6 class=\"font-weight-bolder mb-0\">\r\n          Total:\r\n        </h6>\r\n        <h6 class=\"text-primary font-weight-bolder mb-0\">\r\n          ${{ totalAmount }}\r\n        </h6>\r\n      </div>\r\n      <b-button\r\n        v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\r\n        variant=\"primary\"\r\n        block\r\n        :to=\"{ name: 'apps-e-commerce-checkout' }\"\r\n      >\r\n        Checkout\r\n      </b-button>\r\n    </li>\r\n\r\n    <p\r\n      v-if=\"!items.length\"\r\n      class=\"m-0 p-1 text-center\"\r\n    >\r\n      Your cart is empty\r\n    </p>\r\n  </b-nav-item-dropdown>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BNavItemDropdown, BBadge, BMedia, BLink, BImg, BFormSpinbutton, BButton,\r\n} from 'bootstrap-vue'\r\nimport VuePerfectScrollbar from 'vue-perfect-scrollbar'\r\nimport Ripple from 'vue-ripple-directive'\r\n\r\nexport default {\r\n  components: {\r\n    BNavItemDropdown,\r\n    BBadge,\r\n    BMedia,\r\n    BLink,\r\n    BImg,\r\n    BFormSpinbutton,\r\n    VuePerfectScrollbar,\r\n    BButton,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  data() {\r\n    return {\r\n      items: [],\r\n      perfectScrollbarSettings: {\r\n        maxScrollbarLength: 60,\r\n        wheelPropagation: false,\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    totalAmount() {\r\n      let total = 0\r\n      this.items.forEach(i => { total += i.price })\r\n      return total\r\n    },\r\n  },\r\n  methods: {\r\n    fetchItems() {\r\n      this.$store.dispatch('app-ecommerce/fetchCartProducts')\r\n        .then(response => {\r\n          this.items = response.data.products\r\n        })\r\n    },\r\n    removeItemFromCart(productId) {\r\n      this.$store.dispatch('app-ecommerce/removeProductFromCart', { productId })\r\n        .then(() => {\r\n          const itemIndex = this.items.findIndex(p => p.id === productId)\r\n          this.items.splice(itemIndex, 1)\r\n\r\n          // Update count in cart items state\r\n          this.$store.commit('app-ecommerce/UPDATE_CART_ITEMS_COUNT', this.items.length)\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dropdown-cart {\r\n  .media {\r\n    .media-aside {\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}