{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue","mtime":1683620028565},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1682425602675},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1682425630991}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge0JCYWRnZSwgQkJ1dHRvbiwgQlRhYmxlLH0gZnJvbSAnYm9vdHN0cmFwLXZ1ZScNCmltcG9ydCB7bWFwQWN0aW9ucywgbWFwR2V0dGVyc30gZnJvbSAndnVleCcNCmltcG9ydCBWdWUgZnJvbSAndnVlJw0KaW1wb3J0IHtKb3VybmFsZGV0YWlsRmlsZWQsIGpvdXJuYWxGaWxlZCwgc2xpcEZpbGVkfSBmcm9tICcuLi9maWVsZHMnDQppbXBvcnQgSW5wdXRGb3JtIGZyb20gJy4uL1NsaXAvSW5wdXRGb3JtLnZ1ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQkJ1dHRvbiwNCiAgICBCVGFibGUsDQogICAgQkJhZGdlLA0KICAgIElucHV0Rm9ybSwNCg0KICB9LA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8qICDtlYTrk5wNCiAgICAgICAqLw0KICAgICAgc2xpcEZpbGVkLA0KICAgICAgam91cm5hbEZpbGVkLA0KICAgICAgSm91cm5hbGRldGFpbEZpbGVkLA0KICAgICAgc2VsZXRlZFNsaXA6IFtdLA0KICAgICAgam91cm5hbERldGFpbExpc3Q6IFtdLA0KDQogICAgICAvLyDsiJjsoJXrtoTqsJwNCiAgICAgIGVkaXRhYmxlSm91cm5hbDoge30sDQoNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycygnYWNjb3VudC9hY2NvdW50JywgWydHRVRfU0VMRVRFRF9TTElQJywgJ0dFVF9TRUxFVEVEX0pPVVJOQUxsSVNUJ10pLA0KICB9LA0KICBnZXR0ZXJzOiB7fSwNCiAgbWV0aG9kczogew0KDQogICAgLi4ubWFwQWN0aW9ucygnYWNjb3VudC9hY2NvdW50JywgWydFRElUX1NMSVAnXSksDQogICAgLyoqDQogICAgICogIOu2hOqwnOyEoO2DneyLnCDtlbTri7nrtoTqsJzsg4HshLgg67O87IiY7J6I64qUIOq4sOuKpQ0KICAgICAqLw0KICAgIG9uUm93U2VsZWN0ZWQoc2VsZWN0ZWRKb3VybmFsKSB7DQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmcNCiAgICAgIHRoaXMuZWRpdGFibGVKb3VybmFsID0gc2VsZWN0ZWRKb3VybmFsWzBdDQogICAgICBpZiAoc2VsZWN0ZWRKb3VybmFsWzBdLmpvdXJuYWxEZXRhaWxMaXN0Lmxlbmd0aCA9PT0gMCkgew0KICAgICAgICBWdWUuJHRvYXN0LmluZm8oJ+2VtOuLueu2hOqwnOydmCDrtoTqsJzsg4HshLjripQg7KG07J6s7ZWY7KeA7JWK7Iq164uI64ukJykNCiAgICAgIH0NCiAgICAgIHRoaXMuam91cm5hbERldGFpbExpc3QgPSBzZWxlY3RlZEpvdXJuYWxbMF0uam91cm5hbERldGFpbExpc3QNCiAgICB9LA0KICAgIC8qKg0KICAgICAq7KCE7ZGc7IiY7KCVIOuyhO2KvCDtgbTrpq3si5wg7ZWo7IiY7Iuk7ZaJDQogICAgICovDQogICAgZWRpdFNsaXAoKSB7DQogICAgICB0aGlzLiRyb290LiRlbWl0KCdidjo6c2hvdzo6bW9kYWwnLCAnb3BlbkVkaXRTbGlwTW9kYWwnKQ0KICAgIH0sDQogICAgLyoqDQogICAgICog67aE6rCc7IiY7KCVDQogICAgICovDQogICAgZWRpdEpvdXJhbmwoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRhYmxlSm91cm5hbCkNCiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2J2OjpzaG93Ojptb2RhbCcsICdvcGVuRWRpdEpvdW5hbE1vZGFsJykNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOu2hOqwnOyDgeyEuOyImOyglQ0KICAgICAqLw0KICAgIGVkaXRKb3VyYW5EZXRhaWwoKSB7DQogICAgICBpZiAodGhpcy5lZGl0YWJsZUpvdXJuYWwuam91cm5hbERldGFpbExpc3QubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2J2OjpzaG93Ojptb2RhbCcsICdvcGVuRWRpdEpvdW5hbERldGFpbE1vZGFsJywgJyNmb2N1c1RoaXNPbkNsb3NlJykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIFZ1ZS4kdG9hc3QuaW5mbygn7ZW064u567aE6rCc7J2YIOu2hOqwnOyDgeyEuOuKlCDsobTsnqztlZjsp4DslYrsirXri4jri6QnKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog7IiY7KCVIO2bhCDsoIDsnqUNCiAgICAgKi8NCiAgICBhc3luYyBzYXZlRWRpdGVkRm9ybSgpIHsNCiAgICAgIGNvbnN0IGVkaXRlZFNsaXAgPSB0aGlzLkdFVF9TRUxFVEVEX1NMSVBbMF0NCiAgICAgIGNvbnN0IHVwZGF0ZVNsaXBObyA9IGF3YWl0IHRoaXMuRURJVF9TTElQKGVkaXRlZFNsaXApDQogICAgICBhbGVydChgJHt1cGRhdGVTbGlwTm99IOyghO2RnOydmCDrqqjrk6Ag7IKs7ZWt7J20IOyXheuNsOydtO2KuOuQmOyXiOyKteuLiOuLpGApDQogICAgfSwNCiAgfSwNCg0KfQ0K"},{"version":3,"sources":["JournalForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"JournalForm.vue","sourceRoot":"src/components/account/account/Journal","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <h1>전표</h1>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"saveEditedForm\"\r\n    >\r\n      저장\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranDetail\"\r\n    >\r\n      분개상세수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranl\"\r\n    >\r\n      분개수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editSlip\"\r\n    >\r\n      전표수정\r\n    </b-button>\r\n    <b-table\r\n      :items=\"GET_SELETED_SLIP\"\r\n      :fields=\"slipFiled\"\r\n    />\r\n    <h1>분개 </h1>\r\n\r\n    <b-table\r\n      :items=\"GET_SELETED_JOURNALlIST\"\r\n      :fields=\"journalFiled\"\r\n      striped\r\n      responsive\r\n      select-mode=\"single\"\r\n      selectable\r\n      @row-selected=\"onRowSelected\"\r\n    >\r\n\r\n      <template #cell(status)=\"data\">\r\n        <b-badge :variant=\"status[1][data.value]\">\r\n          {{ status[0][data.value] }}\r\n        </b-badge>\r\n      </template>\r\n    </b-table>\r\n    <h1>분개상세</h1>\r\n    <b-table\r\n      :items=\"journalDetailList\"\r\n      :fields=\"JournaldetailFiled\"\r\n    />\r\n\r\n    <!-- 모달은 id 이용-->\r\n    <!-- 전표추가 모달-->\r\n    <!--하나의 inputForm 태그 사용 < 조건을 props로 내려줌>-->\r\n    <b-modal\r\n      id=\"openEditSlipModal\"\r\n      title=\"전표수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputSlipForm\"\r\n          :edit-slip=\"GET_SELETED_SLIP\"\r\n          modal-status=\"editSlip\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!-- 분개추가 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalModal\"\r\n      title=\"분개수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalForm\"\r\n          :edit-journal=\"editableJournal\"\r\n          modal-status=\"editJournal\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!--분개상세 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalDetailModal\"\r\n      title=\"분개상세수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalDetailForm\"\r\n          modal-status=\"addJounalDetail\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {BBadge, BButton, BTable,} from 'bootstrap-vue'\r\nimport {mapActions, mapGetters} from 'vuex'\r\nimport Vue from 'vue'\r\nimport {JournaldetailFiled, journalFiled, slipFiled} from '../fields'\r\nimport InputForm from '../Slip/InputForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BTable,\r\n    BBadge,\r\n    InputForm,\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      /*  필드\r\n       */\r\n      slipFiled,\r\n      journalFiled,\r\n      JournaldetailFiled,\r\n      seletedSlip: [],\r\n      journalDetailList: [],\r\n\r\n      // 수정분개\r\n      editableJournal: {},\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('account/account', ['GET_SELETED_SLIP', 'GET_SELETED_JOURNALlIST']),\r\n  },\r\n  getters: {},\r\n  methods: {\r\n\r\n    ...mapActions('account/account', ['EDIT_SLIP']),\r\n    /**\r\n     *  분개선택시 해당분개상세 볼수있는 기능\r\n     */\r\n    onRowSelected(selectedJournal) {\r\n      // eslint-disable-next-line prefer-destructuring\r\n      this.editableJournal = selectedJournal[0]\r\n      if (selectedJournal[0].journalDetailList.length === 0) {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n      this.journalDetailList = selectedJournal[0].journalDetailList\r\n    },\r\n    /**\r\n     *전표수정 버튼 클릭시 함수실행\r\n     */\r\n    editSlip() {\r\n      this.$root.$emit('bv::show::modal', 'openEditSlipModal')\r\n    },\r\n    /**\r\n     * 분개수정\r\n     */\r\n    editJouranl() {\r\n      console.log(this.editableJournal)\r\n      this.$root.$emit('bv::show::modal', 'openEditJounalModal')\r\n    },\r\n    /**\r\n     * 분개상세수정\r\n     */\r\n    editJouranDetail() {\r\n      if (this.editableJournal.journalDetailList.length !== 0) {\r\n        this.$root.$emit('bv::show::modal', 'openEditJounalDetailModal', '#focusThisOnClose')\r\n      } else {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n    },\r\n    /**\r\n     * 수정 후 저장\r\n     */\r\n    async saveEditedForm() {\r\n      const editedSlip = this.GET_SELETED_SLIP[0]\r\n      const updateSlipNo = await this.EDIT_SLIP(editedSlip)\r\n      alert(`${updateSlipNo} 전표의 모든 사항이 업데이트되었습니다`)\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\nh1 {\r\n  font-size: 45px;\r\n  font-weight: 600;\r\n  color: #456155;\r\n  padding: 30px 5px 15px;\r\n}\r\n\r\n.bt {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}