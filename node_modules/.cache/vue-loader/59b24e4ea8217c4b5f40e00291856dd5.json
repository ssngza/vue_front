{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Slip\\SlipForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Slip\\SlipForm.vue","mtime":1683631586544},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1683631548959},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1683631584611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWVudVNsaXBGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9hY2NvdW50L2FjY291bnQvU2xpcC9NZW51U2xpcEZvcm0udnVlJw0KaW1wb3J0IHsNCiAgQkF2YXRhciwgQlBhZ2luYXRpb24sIEJGb3JtR3JvdXAsIEJGb3JtSW5wdXQsIEJGb3JtU2VsZWN0LCBCUm93LCBCQ29sLA0KfSBmcm9tICdib290c3RyYXAtdnVlJw0KaW1wb3J0IHsgVnVlR29vZFRhYmxlIH0gZnJvbSAndnVlLWdvb2QtdGFibGUnDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgVnVlIGZyb20gJ3Z1ZScNCmltcG9ydCBUb2FzdGlmaWNhdGlvbkNvbnRlbnQgZnJvbSAnQC9AY29yZS9jb21wb25lbnRzL3RvYXN0aWZpY2F0aW9uL1RvYXN0aWZpY2F0aW9uQ29udGVudC52dWUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIFZ1ZUdvb2RUYWJsZSwNCiAgICBCQXZhdGFyLA0KICAgIEJQYWdpbmF0aW9uLA0KICAgIEJGb3JtR3JvdXAsDQogICAgQkZvcm1JbnB1dCwNCiAgICBCRm9ybVNlbGVjdCwNCiAgICBCUm93LA0KICAgIEJDb2wsDQogICAgTWVudVNsaXBGb3JtLA0KDQogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby11bnVzZWQtY29tcG9uZW50cw0KICAgIFRvYXN0aWZpY2F0aW9uQ29udGVudCwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY3RpdmVCdXR0b246ICdzZWFyY2hTbGlwJywNCiAgICAgIGJ1dHRvbkNvbmRpdGlvbjogJycsDQogICAgICBwYWdlTGVuZ3RoOiAxMCwNCiAgICAgIGNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn7KCE7ZGc7J2866Co67KI7Zi4JywNCiAgICAgICAgICBmaWVsZDogJ3NsaXBObycsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+q4sOyImOydvOugqOuyiO2YuCcsDQogICAgICAgICAgZmllbGQ6ICdhY2NvdW50UGVyaW9kTm8nLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICftkojsnZjrgrTsl60nLA0KICAgICAgICAgIGZpZWxkOiAnZXhwZW5zZVJlcG9ydCcsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+yekeyEseuCoOynnCcsDQogICAgICAgICAgZmllbGQ6ICdyZXBvcnRpbmdEYXRlJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn7Iq57J247IOB7YOcJywNCiAgICAgICAgICBmaWVsZDogJ3NsaXBTdGF0dXMnLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfsoITtkZzsooXrpZgnLA0KICAgICAgICAgIGZpZWxkOiAnc2xpcFR5cGUnLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfquYDtlZjsnYAnLA0KICAgICAgICAgIGZpZWxkOiAnc2xpcFR5cGUnLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHJvd3M6IFtdLA0KICAgICAgc2VhcmNoVGVybTogJycsDQogICAgICBzZWxlY3RlZEFycmF5OiBbXSwNCiAgICAgIGRlbGV0ZUl0ZW06IFtdLA0KICAgICAgZWRpdGVJdGVtOiBbXSwNCiAgICAgIGxvZ01lc3NhZ2U6ICcnLA0KDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCdhY2NvdW50L2FjY291bnQnLCBbJ3NsaXBGb3JtTGlzdCddKSwNCg0KICB9LA0KICAvKioNCiAgICog66as7JeR7Yq47J2YIHVzZUVmZmVjdOyZgCDqsJnsnYwNCiAgICovDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5GRVRDSF9BTExfU0xJUCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDslaHshZjsnYQg6rCA7KC47Ji0DQogICAgLi4ubWFwQWN0aW9ucygnYWNjb3VudC9hY2NvdW50JywgWydGRVRDSF9BTExfU0xJUCcsICdERUxFVEVfU0xJUCddKSwNCiAgICAvLyDqsoDsg4kNCiAgICBhZHZhbmNlU2VhcmNoKHZhbCkgew0KICAgICAgdGhpcy5zZWFyY2hUZXJtID0gdmFsDQogICAgfSwNCiAgICAvKioNCiAgICAqIOyEoO2DneuQnCDsoITtkZwo7LK07YGs67CV7IqkKQ0KICAgICog7Iq57J246rO8IOuvuOqysOuQnCDsoITtkZzripQg7IiY7KCVIOyCreygnOqwgCDslYjrkJzri6QuDQogICAgKi8NCiAgICBzZWxlY3Rpb25DaGFuZ2VkKHBhcmFtcykgew0KICAgICAgY29uc3Qgc2VsZWN0ZWRTbGlwID0gcGFyYW1zLnNlbGVjdGVkUm93cy5tYXAodiA9PiB2LnNsaXBTdGF0dXMpDQogICAgICBpZiAoc2VsZWN0ZWRTbGlwLmluY2x1ZGVzKCfsirnsnbgnKSB8fCBzZWxlY3RlZFNsaXAuaW5jbHVkZXMoJ+uvuOqysCcpKSB7DQogICAgICAgIFZ1ZS4kdG9hc3QuaW5mbygn7Iq57J24IG9yIOuvuOqysOuQnCDsoITtkZzripQg7IiY7KCV7J20IOu2iOqwgO2VqeuLiOuLpCcpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnNlbGVjdGVkQXJyYXkgPSBwYXJhbXMuc2VsZWN0ZWRSb3dzLm1hcCh2ID0+ICh7IHNsaXBObzogdi5zbGlwTm8gfSkpDQogICAgICAgIHRoaXMuZGVsZXRlSXRlbSA9IHRoaXMuc2VsZWN0ZWRBcnJheQ0KICAgICAgICB0aGlzLmVkaXRlSXRlbSA9IHRoaXMuc2VsZWN0ZWRBcnJheQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDsoITtkZzsgq3soJzrsoTtirwNCiAgICAgKi8NCiAgICBhc3luYyBkZWxldGVTbGlwKCkgew0KICAgICAgaWYgKCF0aGlzLmRlbGV0ZUl0ZW0ubGVuZ3RoKSB7DQogICAgICAgIFZ1ZS4kdG9hc3QuaW5mbygn7Iq57J2465CcIOyghO2RnOuKlCDsgq3soJzqsIAg67aI6rCA7ZWp64uI64ukJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuREVMRVRFX1NMSVAodGhpcy5kZWxldGVJdGVtKQ0KICAgICAgVnVlLiR0b2FzdC5zdWNjZXNzKHJlc3BvbnNlLmRhdGEuZXJyb3JNc2cpDQogICAgICB0aGlzLkZFVENIX0FMTF9TTElQKCkNCiAgICB9LA0KICAgIC8qKg0KICAgICog7KCE7ZGc7IiY7KCV67KE7Yq8DQogICAgKi8NCiAgICBhc3luYyBlZGl0U2xpcCgpIHsNCiAgICAgIGNvbnN0IHNlbGVjdGVkU2xpcCA9IHRoaXMuc2VsZWN0ZWRBcnJheVswXS5zbGlwTm8NCiAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkU2xpcCkNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2pvdXJuYWxGb3JtJywgcGFyYW1zOiB7IHNlbGVjdGVkU2xpcCB9IH0pDQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOyghO2RnOyDgeyEuOuztOq4sOuyhO2KvA0KICAgICAqLw0KICAgIHNob3dKb3VybmFsRm9ybSgpIHsNCiAgICAgIGNvbnN0IHNlbGVjdGVkU2xpcCA9IHRoaXMuJHJlZnMubXlUYWJsZS5zZWxlY3RlZFJvd3MubWFwKHYgPT4gdi5zbGlwTm8pWzBdDQogICAgICBpZiAodGhpcy4kcmVmcy5teVRhYmxlLnNlbGVjdGVkUm93cy5sZW5ndGggPiAxKSB7DQogICAgICAgIFZ1ZS4kdG9hc3QuaW5mbygn7ZWc6rCc66eMIOyEoO2Dne2VtOyjvOyEuOyalCcpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdqb3VybmFsRm9ybScsIHBhcmFtczogeyBzZWxlY3RlZFNsaXAgfSB9KQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["SlipForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SlipForm.vue","sourceRoot":"src/components/account/account/Slip","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"custom-search\">\r\n\r\n      <!-- advance search input -->\r\n      <b-row>\r\n        <b-col md=\"4\">\r\n          <b-form-group>\r\n            <label>전표일련번호</label>\r\n            <b-form-input\r\n              placeholder=\"Search\"\r\n              type=\"text\"\r\n              class=\"d-inline-block\"\r\n              @input=\"advanceSearch\"\r\n            />\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col md=\"4\">\r\n          <b-form-group>\r\n            <label>작성날짜:</label>\r\n            <b-form-input\r\n              placeholder=\"Search\"\r\n              type=\"text\"\r\n              class=\"d-inline-block\"\r\n              @input=\"advanceSearch\"\r\n            />\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col md=\"4\">\r\n          <b-form-group>\r\n            <label>승인상태:</label>\r\n            <b-form-input\r\n              placeholder=\"Search\"\r\n              type=\"text\"\r\n              class=\"d-inline-block\"\r\n              @input=\"advanceSearch\"\r\n            />\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n\r\n    <!-- table -->\r\n    <vue-good-table\r\n      ref=\"myTable\"\r\n      :columns=\"columns\"\r\n      :rows=\"slipFormList\"\r\n\r\n      :search-options=\"{\r\n        enabled: true,\r\n        externalQuery: searchTerm }\"\r\n      :select-options=\"{\r\n        enabled: true,\r\n        selectOnCheckboxOnly: true, // only select when checkbox is clicked instead of the row\r\n        selectionInfoClass: 'custom-class',\r\n        selectionText: '개가 선택되었습니다',\r\n        clearSelectionText: 'clear',\r\n        disableSelectInfo: false, // disable the select info panel on top\r\n        selectAllByGroup: true, // when used in combination with a grouped table, add a checkbox in the header row to check/uncheck the entire group\r\n      }\"\r\n      :pagination-options=\"{\r\n        enabled: true,\r\n        perPage:pageLength\r\n      }\"\r\n      theme=\"polar-bear\"\r\n      @on-selected-rows-change=\"selectionChanged\"\r\n    >\r\n      <!--선택시 나오게-->\r\n      <div slot=\"selected-row-actions\">\r\n        <button @click=\"showJournalForm\">\r\n          해당 전표상세보기\r\n        </button>\r\n      </div>\r\n      <!--테이블안에 버튼넣기 -->\r\n      <div slot=\"table-actions\">\r\n        <MenuSlipForm\r\n          :active-button=\"activeButton\"\r\n          @deleteItem=\"deleteSlip\"\r\n          @editItem=\"editSlip\"\r\n        />\r\n      </div>\r\n\r\n      <template\r\n        slot=\"table-row\"\r\n        slot-scope=\"props\"\r\n      >\r\n        <span\r\n          v-if=\"props.column.field === 'fullName'\"\r\n          class=\"text-nowrap\"\r\n        >\r\n          <b-avatar\r\n            :src=\"props.row.avatar\"\r\n            class=\"mx-1\"\r\n          />\r\n          <span>{{ props.row.fullName }}</span>\r\n        </span>\r\n        <span v-else>\r\n          {{ props.formattedRow[props.column.field] }}\r\n        </span>\r\n      </template>\r\n\r\n      <!-- pagination -->\r\n      <template\r\n        slot=\"pagination-bottom\"\r\n        slot-scope=\"props\"\r\n      >\r\n        <div class=\"d-flex justify-content-between flex-wrap\">\r\n          <div class=\"d-flex align-items-center mb-0 mt-1\">\r\n            <span class=\"text-nowrap\">\r\n              Showing 1 to\r\n            </span>\r\n            <b-form-select\r\n              v-model=\"pageLength\"\r\n              :options=\"['10','20','30']\"\r\n              class=\"mx-1\"\r\n              @input=\"(value)=>props.perPageChanged({currentPerPage:value})\"\r\n            />\r\n            <span class=\"text-nowrap\"> of {{ props.total }} entries </span>\r\n          </div>\r\n          <div>\r\n            <b-pagination\r\n              :value=\"1\"\r\n              :total-rows=\"props.total\"\r\n              :per-page=\"pageLength\"\r\n              first-number\r\n              last-number\r\n              align=\"right\"\r\n              prev-class=\"prev-item\"\r\n              next-class=\"next-item\"\r\n              class=\"mt-1 mb-0\"\r\n              @input=\"(value)=>props.pageChanged({currentPage:value})\"\r\n            >\r\n              <template #prev-text>\r\n                <feather-icon\r\n                  icon=\"ChevronLeftIcon\"\r\n                  size=\"18\"\r\n                />\r\n              </template>\r\n              <template #next-text>\r\n                <feather-icon\r\n                  icon=\"ChevronRightIcon\"\r\n                  size=\"18\"\r\n                />\r\n              </template>\r\n            </b-pagination>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </vue-good-table>\r\n    <!-- 로딩중-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuSlipForm from '@/components/account/account/Slip/MenuSlipForm.vue'\r\nimport {\r\n  BAvatar, BPagination, BFormGroup, BFormInput, BFormSelect, BRow, BCol,\r\n} from 'bootstrap-vue'\r\nimport { VueGoodTable } from 'vue-good-table'\r\nimport { mapActions, mapState } from 'vuex'\r\nimport Vue from 'vue'\r\nimport ToastificationContent from '@/@core/components/toastification/ToastificationContent.vue'\r\n\r\nexport default {\r\n  components: {\r\n    VueGoodTable,\r\n    BAvatar,\r\n    BPagination,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormSelect,\r\n    BRow,\r\n    BCol,\r\n    MenuSlipForm,\r\n\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    ToastificationContent,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      activeButton: 'searchSlip',\r\n      buttonCondition: '',\r\n      pageLength: 10,\r\n      columns: [\r\n        {\r\n          label: '전표일련번호',\r\n          field: 'slipNo',\r\n        },\r\n        {\r\n          label: '기수일련번호',\r\n          field: 'accountPeriodNo',\r\n        },\r\n        {\r\n          label: '품의내역',\r\n          field: 'expenseReport',\r\n        },\r\n        {\r\n          label: '작성날짜',\r\n          field: 'reportingDate',\r\n        },\r\n        {\r\n          label: '승인상태',\r\n          field: 'slipStatus',\r\n        },\r\n        {\r\n          label: '전표종류',\r\n          field: 'slipType',\r\n        },\r\n        {\r\n          label: '김하은',\r\n          field: 'slipType',\r\n        },\r\n      ],\r\n      rows: [],\r\n      searchTerm: '',\r\n      selectedArray: [],\r\n      deleteItem: [],\r\n      editeItem: [],\r\n      logMessage: '',\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('account/account', ['slipFormList']),\r\n\r\n  },\r\n  /**\r\n   * 리엑트의 useEffect와 같음\r\n   */\r\n  created() {\r\n    this.FETCH_ALL_SLIP()\r\n  },\r\n  methods: {\r\n    // 액션을 가져옴\r\n    ...mapActions('account/account', ['FETCH_ALL_SLIP', 'DELETE_SLIP']),\r\n    // 검색\r\n    advanceSearch(val) {\r\n      this.searchTerm = val\r\n    },\r\n    /**\r\n    * 선택된 전표(체크박스)\r\n    * 승인과 미결된 전표는 수정 삭제가 안된다.\r\n    */\r\n    selectionChanged(params) {\r\n      const selectedSlip = params.selectedRows.map(v => v.slipStatus)\r\n      if (selectedSlip.includes('승인') || selectedSlip.includes('미결')) {\r\n        Vue.$toast.info('승인 or 미결된 전표는 수정이 불가합니다')\r\n      } else {\r\n        this.selectedArray = params.selectedRows.map(v => ({ slipNo: v.slipNo }))\r\n        this.deleteItem = this.selectedArray\r\n        this.editeItem = this.selectedArray\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 전표삭제버튼\r\n     */\r\n    async deleteSlip() {\r\n      if (!this.deleteItem.length) {\r\n        Vue.$toast.info('승인된 전표는 삭제가 불가합니다')\r\n        return\r\n      }\r\n      const response = await this.DELETE_SLIP(this.deleteItem)\r\n      Vue.$toast.success(response.data.errorMsg)\r\n      this.FETCH_ALL_SLIP()\r\n    },\r\n    /**\r\n    * 전표수정버튼\r\n    */\r\n    async editSlip() {\r\n      const selectedSlip = this.selectedArray[0].slipNo\r\n      console.log(selectedSlip)\r\n      this.$router.push({ name: 'journalForm', params: { selectedSlip } })\r\n    },\r\n\r\n    /**\r\n     * 전표상세보기버튼\r\n     */\r\n    showJournalForm() {\r\n      const selectedSlip = this.$refs.myTable.selectedRows.map(v => v.slipNo)[0]\r\n      if (this.$refs.myTable.selectedRows.length > 1) {\r\n        Vue.$toast.info('한개만 선택해주세요')\r\n      } else {\r\n        this.$router.push({ name: 'journalForm', params: { selectedSlip } })\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n"]}]}