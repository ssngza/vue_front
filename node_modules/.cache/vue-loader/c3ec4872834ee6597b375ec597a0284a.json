{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\components\\logistic\\base\\page\\WareHouseInfo\\WarehouseInfo.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\components\\logistic\\base\\page\\WareHouseInfo\\WarehouseInfo.vue","mtime":1683620028647},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683631553846},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683631584615},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\postcss-loader\\src\\index.js","mtime":1683631572251},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1683631578271},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1683631584611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5zY3JvbGxTdHlsZTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgew0KICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggcmdiYSgwLCAwLCAwLCAwLjMpOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUwLCA2MCwgMTUwLCAxKTsNCiAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgYm94LXNoYWRvdzogaW5zZXQgMHB4IDBweCA1cHggcmdiYSg1MCwgNTAsIDE1MCwgMSk7DQp9DQoNCi5zY3JvbGxTdHlsZTo6LXdlYmtpdC1zY3JvbGxiYXIgew0KICB3aWR0aDogMTBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MCwgNTAsIDE1MCwgMCk7DQp9DQoNCi5zY3JvbGxTdHlsZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgew0KICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Ow0KICBib3JkZXI6IDRweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgLyogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsDQogIGxlZnQgYm90dG9tLA0KICBsZWZ0IHRvcCwNCiAgY29sb3Itc3RvcCgwLjQ0LCByZ2IoMTIyLDE1MywyMTcpKSwNCiAgY29sb3Itc3RvcCgwLjcyLCByZ2IoNzMsMTI1LDE4OSkpLA0KICBjb2xvci1zdG9wKDAuODYsIHJnYigyOCw1OCwxNDgpKSk7Ki8NCiAgYmFja2dyb3VuZC1jb2xvcjogIzczNjdmMDsNCn0NCg=="},{"version":3,"sources":["WarehouseInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+VA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WarehouseInfo.vue","sourceRoot":"src/components/logistic/base/page/WareHouseInfo","sourcesContent":["<template>\r\n  <div>\r\n    <h1>창고관리</h1>\r\n<!--    <h1>{{rowData}}</h1>-->\r\n    <div>\r\n      <b-button variant=\"primary\" size=\"md\" class=\"mb-md-1\" @click=\"searchWarehouse()\">\r\n        창고조회\r\n      </b-button>\r\n      <b-button\r\n          variant=\"primary\" size=\"md\"\r\n          class=\"mb-md-1 ml-1\"\r\n          @click=\"removeWarehouse()\">\r\n        창고삭제\r\n      </b-button>\r\n      <b-button variant=\"primary\" size=\"md\" class=\"mb-md-1 ml-1\" @click=\"saveWarehouse()\">\r\n        창고저장\r\n      </b-button>\r\n\r\n      <b-button v-b-modal.addWarehouse variant=\"primary\" size=\"md\" class=\"mb-md-1 ml-1\">\r\n        창고 추가(모달)\r\n      </b-button>\r\n\r\n\r\n      <b-modal\r\n          id=\"addWarehouse\" title=\"Scrollable Content\"\r\n          cancel-variant=\"outline-secondary\"\r\n          @ok=\"completeForm\"\r\n      >\r\n        <b-card class=\"scrollStyle\" style=\"margin:auto; overflow-y: scroll; height: 50vh; padding-left: 50px\">\r\n\r\n          <p class=\"my-5\">\r\n            <warehouse-regform\r\n                ref=\"addWarehouseForm1\"\r\n                modal-status=\"addWarehouse\"\r\n            >\r\n            </warehouse-regform>\r\n          </p>\r\n          <!--        <b-form-radio-group\r\n                        v-model=\"searchCompanyCodeOption\"\r\n                        :options=\"options\"\r\n                        class=\"demo-inline-spacing mb-1\"\r\n                        value-field=\"value\"\r\n                        text-field=\"text\"\r\n                        disabled-field=\"disabled\"\r\n                    />-->\r\n          <!--           <b-table\r\n                       hover\r\n                       selectable\r\n                       :select-mode=\"'single'\"\r\n                       :fields=\"fields\"\r\n                       :items=\"customerCodeList\"\r\n                       @row-clicked=\"companyCodeClick\"\r\n                   />-->\r\n        </b-card>\r\n      </b-modal>\r\n\r\n    </div>\r\n    <!--창고 목록 div-->\r\n    <div>\r\n      <!--      <contract-info-grid>\r\n              <template v-slot:header>\r\n                <h2 class=\"mb-md-1\" style=\"width: 50px\">수주</h2>\r\n                <b-input-group class=\"mb-md-1\" style=\"width: 170px; margin: 0 10px 0 10px;\">\r\n                  <b-form-input\r\n                      v-model=\"startDate\"\r\n                      type=\"text\"\r\n                      placeholder=\"YYYY-MM-DD\"\r\n                      autocomplete=\"off\"\r\n                      show-decade-nav\r\n                  />\r\n                  <b-input-group-append style=\"height: 37px;\">\r\n                    <b-form-datepicker\r\n                        v-model=\"startDate\"\r\n                        show-decade-nav\r\n                        button-only\r\n                        button-variant=\"outline-primary\"\r\n                        right\r\n                        size=\"sm\"\r\n                        locale=\"en-US\"\r\n                        aria-controls=\"example-input\"\r\n                    />\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n\r\n                <h2 style=\"color:#7367f0\">~</h2>\r\n\r\n                <b-input-group class=\"mb-md-1\" style=\"width: 170px; margin: 0 10px 0 10px;\">\r\n                  <b-form-input\r\n                      v-model=\"endDate\"\r\n                      type=\"text\"\r\n                      placeholder=\"YYYY-MM-DD\"\r\n                      autocomplete=\"off\"\r\n                      show-decade-nav\r\n                  />\r\n                  <b-input-group-append style=\"height: 37px;\">\r\n                    <b-form-datepicker\r\n                        v-model=\"endDate\"\r\n                        show-decade-nav\r\n                        button-only\r\n                        button-variant=\"outline-primary\"\r\n                        right\r\n                        size=\"sm\"\r\n                        locale=\"en-US\"\r\n                        aria-controls=\"example-input\"\r\n                    />\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n                <b-button\r\n                    variant=\"primary\"\r\n                    size=\"md\"\r\n                    class=\"mb-md-1\"\r\n                    @click=\"searchContract('searchByDate')\"\r\n                >\r\n                  검색\r\n                </b-button>\r\n\r\n                <b-form-input\r\n                    id=\"company-code\"\r\n                    v-model=\"companyCode\"\r\n                    disabled\r\n                    name=\"companyCode\"\r\n                    placeholder=\"companyCode\"\r\n                    style=\"width: 150px\"\r\n                    class=\"mb-md-1 ml-1\"\r\n                />\r\n                <b-button\r\n                    v-b-modal.companyCode\r\n                    variant=\"primary\"\r\n                    size=\"md\"\r\n                    class=\"mb-md-1 ml-1\"\r\n                >\r\n                  회사코드로 검색\r\n                </b-button>\r\n\r\n                <b-modal\r\n                    id=\"companyCode\"\r\n                    title=\"Scrollable Content\"\r\n                    cancel-variant=\"outline-secondary\"\r\n                >\r\n                  <b-card\r\n                      class=\"scrollStyle\"\r\n                      style=\"margin:auto; overflow-y: scroll; height: 50vh; padding-left: 50px\"\r\n                  >\r\n                    <b-form-radio-group\r\n                        v-model=\"searchCompanyCodeOption\"\r\n                        :options=\"options\"\r\n                        class=\"demo-inline-spacing mb-1\"\r\n                        value-field=\"value\"\r\n                        text-field=\"text\"\r\n                        disabled-field=\"disabled\"\r\n                    />\r\n                    <b-table\r\n                        hover\r\n                        selectable\r\n                        :select-mode=\"'single'\"\r\n                        :fields=\"fields\"\r\n                        :items=\"customerCodeList\"\r\n                        @row-clicked=\"companyCodeClick\"\r\n                    />\r\n                  </b-card>\r\n                </b-modal>\r\n\r\n              </template>\r\n            </contract-info-grid>-->\r\n\r\n    </div>\r\n    <div>\r\n      <warehouse-info-grid @setValue2=\"setValue\" ref=\"list\">\r\n        <template v-slot:header>\r\n          <h2>창고 목록</h2>\r\n        </template>\r\n      </warehouse-info-grid>\r\n    </div>\r\n\r\n    <!--    창고별 자재조회-->\r\n\r\n    <div>\r\n      <warehouse-info-detail-grid>\r\n        <template v-slot:header>\r\n          <h2>창고별 자재조회2</h2>\r\n        </template>\r\n      </warehouse-info-detail-grid>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BCard, BRow, BCol, BFormInput, BButton, BTable, BMedia, BAvatar, BLink, BFormRadioGroup, BCardText,\r\n  BBadge, BDropdown, BDropdownItem, BPagination, BTooltip, BFormDatepicker, BInputGroup, BInputGroupAppend,\r\n} from 'bootstrap-vue'\r\nimport BEditableTable from 'bootstrap-vue-editable-table'\r\nimport {mapActions, mapState} from 'vuex'\r\n\r\nimport warehouseInfoGrid from \"@/components/logistic/base/page/WareHouseInfo/WarehouseInfoGrid\";\r\nimport warehouseInfoDetailGrid from \"@/components/logistic/base/page/WareHouseInfo/WarehouseInfoDetailGrid\";\r\nimport warehouseRegform from \"@/components/logistic/base/page/WareHouseInfo/WarehouseRegform\";\r\nimport {logiApi} from \"@/api\";\r\n\r\n\r\nexport default {\r\n  name: \"WarehouseInfo\",\r\n  components: {\r\n    BCard, BRow, BCol, BFormInput, BButton, BTable, BMedia, BAvatar, BLink, BBadge, BDropdown, BDropdownItem, BPagination, BTooltip, BFormDatepicker, BInputGroup, BInputGroupAppend, BEditableTable, BFormRadioGroup, BCardText,\r\n\r\n    warehouseInfoGrid,\r\n    warehouseInfoDetailGrid,\r\n\r\n    warehouseRegform, // 모달\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      rowData:[],\r\n    }\r\n  },\r\n  state: {\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      grid: state => state.logi.sales.grid,\r\n      customerCodeList: state => state.hr.company.companyCodeList,\r\n      warehouseList: state => state.logi.base.warehouseList,\r\n\r\n    }),\r\n  },\r\n\r\n/*  watch: {\r\n    searchCompanyCodeOption(newValue) {\r\n      if (newValue !== '') {\r\n        const searchOption = {searchCondition: newValue, workplaceCode: this.companyCode}\r\n        console.log(`watchDispatch${searchOption.searchCondition}`)\r\n        this.$store.dispatch('hr/company/searchCustomerList', searchOption)\r\n      }\r\n    },\r\n  },*/\r\n  mounted() {\r\n    // eslint-disable-next-line new-cap\r\n    const tableColumns = [{\r\n      tableColumns: [\r\n        {headerCheckboxSelection: true, checkboxSelection: true, width: 50, resizable: true, sortable: true},\r\n        {label: '창고 코드', key: 'warehouseCode', resizable: true, sortable: true},\r\n        {label: '창고 명', key: 'warehouseName', editable: true, resizable: true, sortable: true},\r\n        {\r\n          label: '창고 사용여부',\r\n          key: 'warehouseUseOrNot',\r\n          editable: true,\r\n          cellEditor: 'agSelectCellEditor',\r\n          cellEditorParams: {values: ['Y', 'N']},\r\n          resizable: true,\r\n          sortable: true\r\n        },\r\n        {label: '설명', key: 'description', editable: true, sortable: true, resizable: true},\r\n        {label: 'status', key: 'status', sortable: true, resizable: true}\r\n      ],\r\n      detailTableColumns: [\r\n        {key: 'warehouseCode', label: '창고코드', sortable: true},\r\n        {key: 'itemCode', label: '자재코드', sortable: true},\r\n        {key: 'itemName', label: '자재명', sortable: true},\r\n        {key: 'unitOfStock', label: '단위', sortable: true},\r\n        {key: 'safetyAllowanceAmount', label: '안전재고량', sortable: true},\r\n        {key: 'stockAmount', label: '가용재고량', sortable: true},\r\n        {key: 'totalStockAmount', label: '전체재고량', sortable: true},\r\n      ],\r\n    },\r\n    ]\r\n    this.$store.dispatch('logi/base/setTable', tableColumns)\r\n    // this.$store.dispatch('logi/sales/setTable', tableColumns)\r\n    // this.searchContract('searchByDate')\r\n    this.searchWarehouse()\r\n  },\r\n  methods: {\r\n    // ...mapActions('logi/sales', ['searchCustomerList']),\r\n    ...mapActions('auth', ['GET_COMPANY_CODE', 'GET_WORKPLACE_CODE', 'AUTHORITY_REQUEST']),\r\n    /*    searchContract() {\r\n          // const searchCondition = searchType\r\n          this.$store.dispatch('logi/sales/searchContract')\r\n        },\r\n        companyCodeClick(payload) {\r\n          console.log('companyClick')\r\n          this.customerCode = payload.customerCode\r\n          this.searchContract('searchByCustomer')\r\n        },\r\n        searchCompanyCode() {\r\n          this.$store.dispatch('searchCustomerList')\r\n        },\r\n    */\r\n    setValue(value) {\r\n      this.rowData=value\r\n    },\r\n    //창고 조회, 삭제, 저장 버튼\r\n    searchWarehouse() {\r\n      console.log('조회 searchWarehouse')\r\n      this.$store.dispatch('logi/base/GET_WAREHOUSE_LIST')\r\n    },\r\n    removeWarehouse(){\r\n      console.log(\"삭제\")\r\n      console.log(this.rowData)\r\n      //const result = this.rowData.filter(word => word != __ob__);\r\n      delete this.rowData.__ob__;\r\n      this.rowData.status = 'DELETE'\r\n/*      const selectedRowElement = this.rowData.getRowEl();\r\n      if (selectedRowElement) {\r\n        selectedRowElement.classList.add(\"deleted-row\");\r\n      }*/\r\n      console.log(this.rowData)\r\n      console.log(this.warehouseList)\r\n      this.$store.dispatch('logi/base/DELETE_WAREHOUSE_LIST', this.rowData)\r\n    },\r\n    async saveWarehouse() {\r\n\r\n      const deleteCount = this.warehouseList.filter(item => item.status === 'DELETE').length\r\n      const insertCount = this.warehouseList.filter(item => item.status === 'INSERT').length\r\n      console.log(deleteCount)\r\n      console.log(insertCount)\r\n\r\n      if (deleteCount > 0 || insertCount>0) {\r\n        if (!confirm(`삭제: ${deleteCount}건, 저장:${insertCount}건 진행하시겠습니까?`)) {\r\n          return;\r\n        }\r\n        try {\r\n          console.log(\"진행\")\r\n          console.log(\"저장\")\r\n          const warehouseList= this.warehouseList\r\n          console.log(warehouseList)\r\n          await logiApi.post('/base/warehousebatchListProcess', warehouseList)\r\n          await this.$store.dispatch('logi/base/GET_WAREHOUSE_LIST')\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 모달 ok버튼 클릭시 실행되는 함수\r\n     */\r\n    completeForm() {\r\n      this.warehouseList.push(this.$refs.addWarehouseForm1.WarehouseForm)\r\n      // this.resultSlipForm = { ...this.$refs.addWarehouseForm1.WarehouseForm, ...this.resultSlipForm }\r\n      // this.addBtStatus = true\r\n    },\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.scrollStyle::-webkit-scrollbar-track {\r\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n  background-color: rgba(50, 60, 150, 1);\r\n  border-radius: 10px;\r\n  box-shadow: inset 0px 0px 5px rgba(50, 50, 150, 1);\r\n}\r\n\r\n.scrollStyle::-webkit-scrollbar {\r\n  width: 10px;\r\n  background-color: rgba(50, 50, 150, 0);\r\n}\r\n\r\n.scrollStyle::-webkit-scrollbar-thumb {\r\n  background-clip: padding-box;\r\n  border: 4px solid transparent;\r\n  border-radius: 10px;\r\n  /*    background-image: -webkit-gradient(linear,\r\n  left bottom,\r\n  left top,\r\n  color-stop(0.44, rgb(122,153,217)),\r\n  color-stop(0.72, rgb(73,125,189)),\r\n  color-stop(0.86, rgb(28,58,148)));*/\r\n  background-color: #7367f0;\r\n}\r\n</style>\r\n"]}]}