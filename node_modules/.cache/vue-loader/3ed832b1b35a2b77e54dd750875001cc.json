{"remainingRequest":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue?vue&type=style&index=0&id=6cb8b05f&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\tmdgu\\vue_front\\src\\components\\account\\account\\Journal\\JournalForm.vue","mtime":1683620028565},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1683631553846},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1683631584615},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\postcss-loader\\src\\index.js","mtime":1683631572251},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682425602778},{"path":"C:\\Users\\tmdgu\\vue_front\\node_modules\\vue-loader\\lib\\index.js","mtime":1683631584611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaDEgew0KICBmb250LXNpemU6IDQ1cHg7DQogIGZvbnQtd2VpZ2h0OiA2MDA7DQogIGNvbG9yOiAjNDU2MTU1Ow0KICBwYWRkaW5nOiAzMHB4IDVweCAxNXB4Ow0KfQ0KDQouYnQgew0KICBmbG9hdDogcmlnaHQ7DQp9DQo="},{"version":3,"sources":["JournalForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"JournalForm.vue","sourceRoot":"src/components/account/account/Journal","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <h1>전표</h1>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"saveEditedForm\"\r\n    >\r\n      저장\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranDetail\"\r\n    >\r\n      분개상세수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editJouranl\"\r\n    >\r\n      분개수정\r\n    </b-button>\r\n    <b-button\r\n      variant=\"relief-primary\"\r\n      class=\"bt\"\r\n      @click=\"editSlip\"\r\n    >\r\n      전표수정\r\n    </b-button>\r\n    <b-table\r\n      :items=\"GET_SELETED_SLIP\"\r\n      :fields=\"slipFiled\"\r\n    />\r\n    <h1>분개 </h1>\r\n\r\n    <b-table\r\n      :items=\"GET_SELETED_JOURNALlIST\"\r\n      :fields=\"journalFiled\"\r\n      striped\r\n      responsive\r\n      select-mode=\"single\"\r\n      selectable\r\n      @row-selected=\"onRowSelected\"\r\n    >\r\n\r\n      <template #cell(status)=\"data\">\r\n        <b-badge :variant=\"status[1][data.value]\">\r\n          {{ status[0][data.value] }}\r\n        </b-badge>\r\n      </template>\r\n    </b-table>\r\n    <h1>분개상세</h1>\r\n    <b-table\r\n      :items=\"journalDetailList\"\r\n      :fields=\"JournaldetailFiled\"\r\n    />\r\n\r\n    <!-- 모달은 id 이용-->\r\n    <!-- 전표추가 모달-->\r\n    <!--하나의 inputForm 태그 사용 < 조건을 props로 내려줌>-->\r\n    <b-modal\r\n      id=\"openEditSlipModal\"\r\n      title=\"전표수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputSlipForm\"\r\n          :edit-slip=\"GET_SELETED_SLIP\"\r\n          modal-status=\"editSlip\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!-- 분개추가 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalModal\"\r\n      title=\"분개수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalForm\"\r\n          :edit-journal=\"editableJournal\"\r\n          modal-status=\"editJournal\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n    <!--분개상세 모달 -->\r\n    <b-modal\r\n      id=\"openEditJounalDetailModal\"\r\n      title=\"분개상세수정\"\r\n    >\r\n      <p class=\"my-5\">\r\n        <InputForm\r\n          ref=\"inputJounalDetailForm\"\r\n          modal-status=\"addJounalDetail\"\r\n        />\r\n      </p>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {BBadge, BButton, BTable,} from 'bootstrap-vue'\r\nimport {mapActions, mapGetters} from 'vuex'\r\nimport Vue from 'vue'\r\nimport {JournaldetailFiled, journalFiled, slipFiled} from '../fields'\r\nimport InputForm from '../Slip/InputForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BTable,\r\n    BBadge,\r\n    InputForm,\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      /*  필드\r\n       */\r\n      slipFiled,\r\n      journalFiled,\r\n      JournaldetailFiled,\r\n      seletedSlip: [],\r\n      journalDetailList: [],\r\n\r\n      // 수정분개\r\n      editableJournal: {},\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('account/account', ['GET_SELETED_SLIP', 'GET_SELETED_JOURNALlIST']),\r\n  },\r\n  getters: {},\r\n  methods: {\r\n\r\n    ...mapActions('account/account', ['EDIT_SLIP']),\r\n    /**\r\n     *  분개선택시 해당분개상세 볼수있는 기능\r\n     */\r\n    onRowSelected(selectedJournal) {\r\n      // eslint-disable-next-line prefer-destructuring\r\n      this.editableJournal = selectedJournal[0]\r\n      if (selectedJournal[0].journalDetailList.length === 0) {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n      this.journalDetailList = selectedJournal[0].journalDetailList\r\n    },\r\n    /**\r\n     *전표수정 버튼 클릭시 함수실행\r\n     */\r\n    editSlip() {\r\n      this.$root.$emit('bv::show::modal', 'openEditSlipModal')\r\n    },\r\n    /**\r\n     * 분개수정\r\n     */\r\n    editJouranl() {\r\n      console.log(this.editableJournal)\r\n      this.$root.$emit('bv::show::modal', 'openEditJounalModal')\r\n    },\r\n    /**\r\n     * 분개상세수정\r\n     */\r\n    editJouranDetail() {\r\n      if (this.editableJournal.journalDetailList.length !== 0) {\r\n        this.$root.$emit('bv::show::modal', 'openEditJounalDetailModal', '#focusThisOnClose')\r\n      } else {\r\n        Vue.$toast.info('해당분개의 분개상세는 존재하지않습니다')\r\n      }\r\n    },\r\n    /**\r\n     * 수정 후 저장\r\n     */\r\n    async saveEditedForm() {\r\n      const editedSlip = this.GET_SELETED_SLIP[0]\r\n      const updateSlipNo = await this.EDIT_SLIP(editedSlip)\r\n      alert(`${updateSlipNo} 전표의 모든 사항이 업데이트되었습니다`)\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\nh1 {\r\n  font-size: 45px;\r\n  font-weight: 600;\r\n  color: #456155;\r\n  padding: 30px 5px 15px;\r\n}\r\n\r\n.bt {\r\n  float: right;\r\n}\r\n</style>\r\n"]}]}